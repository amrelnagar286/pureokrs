<h5>{{ user?.company }}'s objectives and key results.</h5>
<div class="mb-4">
  <app-new-okr (savedOkr)="savedOkr($event)"></app-new-okr>
  <app-edit-okr
    *ngIf="okrNodeToEdit"
    [okrHierarchyNode]="okrNodeToEdit"
    (savedOkr)="savedOkr($event)"
  ></app-edit-okr>
  <svg
    #svg
    [attr.height]="_height"
    [attr.width]="_width"
    style="margin: auto; display: block;"
  >
    <rect
      [attr.height]="_height"
      [attr.width]="_width"
      rx="2"
      ry="2"
      fill="white"
    ></rect>
    <g id="container" [zoomableOf]="svg" #container>
      <g *ngFor="let edge of root.links()">
        <g *ngIf="edge.source.depth" [edge]="edge"></g>
      </g>
      <g *ngFor="let node of root.descendants()">
        <g
          *ngIf="node.depth"
          [okrTreeNode]="node"
          (nodeShow)="pushChildren($event)"
          (nodeHide)="hideChildren($event)"
          (okrNodeToEdit)="editOkrNode($event)"
        ></g>
      </g>
    </g>
  </svg>
</div>
